# Google Chat 通知メッセージ改善案

## 要件

1. 日時を先頭に追加（`yyyy-mm-dd (aaa) hh:mm:ss` 形式）
2. 終了時に処理時間を追加
3. 終了時に処理件数を追加

---

## メッセージフォーマット案

### 開始時

```
2026-01-10 (金) 09:15:30
🚀 {function-name}: {説明}
```

### 終了時（成功）

```
2026-01-10 (金) 09:16:45
✅ {function-name}: {説明}
　処理時間: 1分15秒 / 処理件数: 1,234件
```

### 終了時（エラー）

```
2026-01-10 (金) 09:16:45
🚨 {function-name}: {エラー説明}
```

---

## 各関数のメッセージ例

### pos-downloader

**開始:**
```
2026-01-10 (金) 06:00:00
🚀 pos-downloader: 20260109 のダウンロード処理を開始します。
```

**終了:**
```
2026-01-10 (金) 06:02:30
✅ pos-downloader: 20260109 のダウンロード処理が正常終了しました。
　処理時間: 2分30秒 / 処理件数: 1件
```

---

### pos-importer

**開始:**
```
2026-01-10 (金) 06:03:00
🚀 pos-importer: POS データのインポート処理を開始します。
```

**終了:**
```
2026-01-10 (金) 06:05:15
✅ pos-importer: pos_orders_raw_20260109.csv のインポート処理が正常終了しました。
　処理時間: 2分15秒 / 処理件数: 5,432件
```

---

### shopify-importer

**開始:**
```
2026-01-10 (金) 10:00:00
🚀 shopify-importer: Shopify データのインポート処理を開始します。
```

**終了:**
```
2026-01-10 (金) 10:01:30
✅ shopify-importer: orders_export_2026-01-09.csv のインポート処理が正常終了しました。
　処理時間: 1分30秒 / 処理件数: 256件
```

---

### member-importer

**開始:**
```
2026-01-10 (金) 10:00:00
🚀 member-importer: 会員データのインポート処理を開始します。
```

**終了:**
```
2026-01-10 (金) 10:03:00
✅ member-importer: members_20260110.csv のインポート処理が正常終了しました。
　処理時間: 3分00秒 / 処理件数: 12,345件
```

---

### data-normalizer

**開始:**
```
2026-01-10 (金) 06:06:00
🚀 data-normalizer: データ正規化処理を開始します。
```

**終了:**
```
2026-01-10 (金) 06:08:30
✅ data-normalizer: pos データの正規化処理が正常終了しました。
　処理時間: 2分30秒 / 処理件数: 5,432件
```

---

### product_ldx-importer

**開始:**
```
2026-01-10 (金) 10:00:00
🚀 product_ldx-importer: 商品マスタのインポート処理を開始します。
```

**終了:**
```
2026-01-10 (金) 10:05:00
✅ product_ldx-importer: products_20260110.xlsx のインポート処理が正常終了しました。
　処理時間: 5分00秒 / 処理件数: 45,678件
```

---

### member-voucher-updater

**開始:**
```
2026-01-10 (金) 10:04:00
🚀 member-voucher-updater: 会員情報の伝票更新処理を開始します。
```

**終了:**
```
2026-01-10 (金) 10:06:30
✅ member-voucher-updater: 会員情報の伝票更新処理が正常終了しました。
　処理時間: 2分30秒 / 処理件数: 8,765件
```

---

## 実装方針

1. `notifications.js` に日時フォーマット関数を追加
2. 各 Cloud Function で開始時刻を記録し、終了時に処理時間を計算
3. 処理件数は各関数の結果から取得して通知に含める
